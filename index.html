<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<style>

    .button {
      padding: 10px;
    }

    #containerDiv { 
      display: grid;
      /*grid-template-columns: repeat(16, calc(100vmin/16));
      grid-template-rows: repeat(16, calc(100vmin/16));*/
    }
    
    .pixels {
    border: 1px solid rgb(0, 0, 0);
    background: blueviolet;
    /*padding: calc(100vmin/(var(gridSize)*2));*/
    }
  

</style>
</head>
<body>
    <div>
        <h1>Tic Tac Toe</h1>
        <p>Status Bar</p>
        
        <button>Start</button>
    </div>
    <div id='containerDiv'></div>
<script>
/* 
[x]pattern checker
[x]grid generator
[]player creator
*/
   
//GRID GENERATE FUNCTION
const ContainerDiv = document.querySelector('#containerDiv');//declare attach point for pixel divs
function generateGrids(gridSize){
    for (let i=0; i<(gridSize**2); i++){ //make divs
    let newDiv = document.createElement('div');//store 1 new div in a variable
    newDiv.id = 1 + i; //give it different id each time
    newDiv.classList = 'pixels'; //common class for manipulation
    //[ ] linked object for each pixel
    //[ ] status property for div object
    //[ ] id property for div object
    ContainerDiv.appendChild(newDiv);//append them each to attach point
    ContainerDiv.style.cssText = `grid-template-columns: repeat(${gridSize}, calc(66vmin/${gridSize}));grid-template-rows: repeat(${gridSize}, calc(66vmin/${gridSize}))`;//custom grid style responsive to input size
    };
    };//tested working
  
//STARTING GRID = 3x3
generateGrids(3);


//[ ]Player constructor function





//VAR
let tictactoePatterns = [
    [7,5,3],
    [1,5,9],
    [1,2,3],
    [4,5,6],
    [7,8,9],
    [1,4,7],
    [2,5,8],
    [3,6,9]
    ]; //declare array containing array of patterns for tictactoe victory; tiles start from L-R from 1 to 9 - DONE
let ticArrayPlayer1 = [];//declare array for testing
     
//Single Pattern Checker - DONE
///array with 1-9 works as it returns 1
///array with 1-9 with no 5 works as it returns 0
function checkSubPattern(ticArray, patterns){
    let A = 0;
    let B = 1;
    let C = 2;//ABC are sub test results holders
    if(ticArray.includes(patterns[0])){
        A = 1;
    } else {
        A = 0;
    };
    if(ticArray.includes(patterns[1])){
        B = 1;
    } else {
        B = 0;
    }; 
    if(ticArray.includes(patterns[2])){
        C = 1;
    } else {
        C = 0;
    }; 
    let D = A && B && C; //if all are TRUE, D is TRUE, else FALSE
    return D;//returns one if pattern is present, zero if not
};
//Single Pattern Checker

//All Pattern Checker - DONE
//array with pattern#2 works, returns 1
//array with pattern#8 works, returns 1
//array with no pattern works, returns 0
//array with empty pattern works, returns 0
//for all the element-patterns in the tictactoe pattern, test it against a player's tiles
function checkAllPAtterns(inputTiles, tictactoePattern){//input id of tiles held by player and the pattern for TTT victory
    let E = 0;//declare here for access
    outer: for (let elem in tictactoePattern) {//test all patterns
        let subPat =  tictactoePattern[elem]; //store sub-pattern in a temp variable for neatness
        E = checkSubPattern(inputTiles, subPat);//call checker function, store the TRUE or FALSE result in a variable
        if (E == 1) break outer;//once any subpattern is present, immediately stop the loop
    };
    return E;
};
//All Pattern Checker - DONE

//[ ]Trigger for start button
//[ ]call player constructor
//[ ]call tile change function
//[ ]call victory evaluate
//[ ]call AI move
//[ ]call tile change function
//[ ]call victory evaluate
//[ ]call game winner
//[ ]call reset button


//AI to pick random tiles




</script>
</body>
</html>